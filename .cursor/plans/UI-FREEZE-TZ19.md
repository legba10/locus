# TZ-19: UI-freeze — финальная стабилизация перед запуском

**Статус:** выполнено. Вводится UI-freeze: новые изменения только отдельными задачами.

---

## 1. Зафиксированная структура главной страницы

Порядок блоков **не менять**:

| № | Блок | Компонент / секция |
|---|------|---------------------|
| 1 | Header | `layout/Header.tsx` (в layout) |
| 2 | Hero | `Hero` — заголовок, печатная строка, подзаголовок, CTA |
| 3 | AI-подбор | AI-панель внутри Hero (клик → фильтры) |
| 4 | Популярные города | `PopularCities` |
| 5 | Фильтр | Секция `#search` — город, бюджет, тип, «Показать варианты», «Фильтры» |
| 6 | Лента объявлений | «Актуальные предложения» + `listing-grid` |
| 7 | Статистика | `StatsBlock` |
| 8 | Футер | В layout |

Проверено:
- Блоки не меняют порядок при обновлении.
- Нет дублирования секций (Популярные города в одном месте).
- Нет скрытых альтернативных версий порядка.

---

## 2. Header — проверка состояний

- **Desktop:** логотип слева; сообщения, избранное, уведомления, тема, профиль/Войти, «Разместить» (при возможности).
- **Mobile:** бургер, уведомления (при авторизации), тема, профиль/Войти.
- **Гость:** кнопка «Войти».
- **Авторизован:** аватар, dropdown с Профиль, Мои объявления, Сообщения, Избранное, Тарифы, Выйти.
- **Скролл:** header фиксирован (`sticky`), класс `layout-header--scrolled`.
- **Темы:** светлая/тёмная через токены, переключатель в header.

Запрещено: дубли профиля, двойные иконки, исчезающие элементы.

---

## 3. Типографика (единая система)

| Тип | Размер desktop | Размер mobile |
|-----|----------------|---------------|
| H1 | 52px | 32px |
| H2 | 28px | — |
| Текст | 16px | 16px |
| Малый | 14px | 14px |

- Hero: класс `hero-tz18-title` (52/32), подзаголовок 18px, печатная строка 20/16px.
- Секции: заголовки `text-[24px] md:text-[28px]`.
- Не использовать: inline-font, случайные размеры, серый текст с opacity &lt; 0.5 (использовать `var(--text-secondary)`).

---

## 4. Сетка

- Контейнер главной: **max-width 1200px**, padding 24px (desktop) / 16px (mobile), `margin: 0 auto`.
- Hero центрирован (max-w 1100px внутри).
- Фильтр: max-width 1000px, центрирован.
- Карточки в сетке ровные, gap 24px.
- Класс обёртки главной: `home-tz18`; секции: `home-section-tz18` (ритм 80px/48px).

---

## 5. Темы

**Светлая:** фон #F6F7FB, карточки #FFFFFF, тень 0 8px 24px rgba(0,0,0,0.06). Нет пересвета, серых рамок; кнопки читаемы.

**Тёмная:** фон #0B0F1A, карточки #111827, границы rgba(255,255,255,0.08). Фон не чёрный, карточки видны, границы мягкие.

Проверка: hero, карточки, меню, фильтр — корректны в обеих темах.

---

## 6. Фильтр и поиск

Сценарии: открыть фильтр → выбрать город → бюджет → «Показать варианты».  
Требуется: без прыжков, без поломки layout, без «уезжания» блока вниз. Desktop: dropdown по центру; mobile: BottomSheet.

---

## 7. Карточка объявления (страница листинга)

- **Mobile:** фото, цена, блок бронирования, даты.
- **Desktop:** grid 65/35, border-radius 24px, padding 24px; календарь внутри блока бронирования; нет белых полос.

---

## 8. Меню профиля

- **Desktop dropdown:** ширина 260px, radius 14px, тень; padding ровный; кнопка «Выйти» не ломает layout.
- **Mobile:** бургер → список пунктов, прокрутка при необходимости.

---

## 9. Анимации

- Печать текста в hero (скорость/пауза по ТЗ-17).
- Hover кнопок (в т.ч. CTA glow).
- Открытие меню и фильтра — мягко, без лагов и дёрганий.
- Fade-in секций/карточек (motion-tz16).
- `prefers-reduced-motion` — отключать анимации.

---

## 10. UI-freeze правила (после TZ-19)

1. Никаких спонтанных правок layout/цветов/сетки.
2. Любая правка = отдельное ТЗ с описанием.
3. Layout главной зафиксирован (порядок 1–8).
4. Цвета через токены theme.css — зафиксированы.
5. Сетка (1200px, отступы) зафиксирована.

---

## Файлы для проверки при изменениях

- `frontend/app/HomePageV6.tsx` — порядок секций, комментарий TZ-19.
- `frontend/components/layout/Header.tsx` — иконки, профиль, мобильное меню.
- `frontend/components/home/HeroSection.tsx`, `HeroTyping.tsx`, `PopularCities.tsx`, `StatsBlock.tsx`.
- `frontend/styles/theme.css` — светлая/тёмная палитра.
- `frontend/styles/home-tz18.css` — сетка, типографика hero, ритм.
- `frontend/styles/globals.css` — контейнеры, плавный скролл.
