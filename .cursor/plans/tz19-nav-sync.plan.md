# ТЗ-19: Синхронизация мобильной и ПК-архитектуры + устранение дублей навигации

## Цель
Привести все навигационные уровни к одной логической системе. Без новых функций — только архитектура и консистентность.

---

## Единая модель навигации

| Уровень | Содержимое |
|---------|------------|
| **1 — глобальный** | Header: поиск, уведомления, аватар |
| **2 — основной** | Мобилка → нижнее меню; ПК → левое меню |
| **3 — контекстный** | Внутри профиля, объявления, админки |

Дубли между уровнями удалены.

---

## Выполнено

### 1. Нижнее меню (мобилка)
- **Ровно 5 пунктов:** Главная, Поиск, Добавить, Сообщения, Профиль (или «Войти» для гостя).
- Убрано: избранное, бронирования, финансы, настройки, админ (доступны в профиле / аватар-меню).
- Для гостя те же 5 слотов: «Добавить» и «Сообщения» ведут на логин с redirect, последний — «Войти».

**Файл:** `frontend/components/layout/BottomNavGlobal.tsx`

### 2. Header
- Оставлено: логотип, поиск, колокольчик, аватар (или «Войти»), кнопка «Сдать жильё».
- Убрано: сообщения в header, бургер у авторизованного, профиль отдельной кнопкой (только через аватар).

### 3. Аватар-меню (единый ПК + мобилка)
- Профиль  
- Мои объявления  
- Бронирования  
- Настройки  
- Выйти  
- При роли admin: Админ панель (отдельным пунктом перед «Выйти»).

**Файл:** `frontend/components/layout/Header.tsx`

### 4. Страница профиля
- **Разделы:**  
  - **Основное:** Мои объявления, Бронирования, Сообщения, Избранное.  
  - **Для арендодателя:** Финансы, Продвижение (ссылки на `/owner/dashboard?tab=finances` и `?tab=promotion`).  
  - **Система:** Настройки, Выйти (кнопка).
- Убрано: «Обзор» как отдельный пункт, «Поддержка» из блока Система, админ-дашборд, дубли. Подписи секций: «Основное», «Для арендодателя», «Система».

**Файл:** `frontend/components/profile/ProfileSidebar.tsx`

### 5. Кнопка «Добавить»
- Ведёт в мастер создания объявления (`/create-listing`), не на тарифы.
- Тарифы показываются при достижении лимита (в конце публикации) и в разделе «Продвижение».

### 6. Сообщения
- Доступ: нижнее меню + левое меню ПК. Отдельной кнопки в header нет.

### 7. Админка
- Только через аватар-меню и только для роли admin. Отдельный слой, не в профиле и не в нижнем меню.

---

## Роли (логика без изменений кода ролей)

- **Гость:** поиск, объявления, написать, избранное, регистрация.  
- **Пользователь:** + сообщения, профиль.  
- **Арендодатель:** + мои объявления, бронирования, финансы, продвижение.  
- **Админ:** админ-панель только через аватар.

---

## Что не менялось
- AI-блоки, отзывы, бронирование, БД, авторизация, роли (только навигация и контент профиля).

---

## Файлы изменений
| Файл | Изменения |
|------|-----------|
| `BottomNavGlobal.tsx` | Ровно 5 пунктов, единый вид для гостя/авторизованного, удалён неиспользуемый import. |
| `Header.tsx` | Аватар-меню: + Мои объявления, Бронирования, Настройки; Админ перед «Выйти». |
| `ProfileSidebar.tsx` | Секции Основное / Для арендодателя / Система; убраны Обзор, Поддержка; Финансы → dashboard?tab=finances. |
