# ТЗ-46.2 — Поиск, фильтры и AI-подбор

## Цель
Стабилизировать поиск: строгая AND-фильтрация, разделение ручного/AI режимов, единая архитектура search-core и предсказуемый UI фильтров.

## Шаги
- [completed] Проанализировать текущую логику фронтенда и бэкенда поиска.
- [completed] Добавить модуль `frontend/core/search/*` (`buildQuery`, `applyFilters`, `searchController`, `aiSearchController`).
- [completed] Перевести `SearchPageV4` на новые контроллеры и дебаунс 300ms.
- [completed] Разделить ручной и AI режимы, сохранить фильтры как базовый каркас.
- [completed] Реализовать серверную строгую AND-логику в `backend/modules/search` (включая type multi, radius, pagination 20).
- [completed] Сделать preview count в панели фильтров и кнопку `Показать N вариантов`.
- [completed] Улучшить empty-state и кнопку «Расширить поиск автоматически».
- [completed] Сохранение состояния в URL + восстановление при refresh/back.
- [completed] Прогнать линты/сборку, обновить план, commit/push.
