# ТЗ 33 — Единая система сетки, отступов и вертикального ритма

## Статус
В работе (инфраструктура внедрена, часть экранов приведена к ритму)

## Выполнено

1. **Токены spacing**
   - Добавлен файл `frontend/styles/tokens/spacing.ts` с токенами:
     - `xs: 4`, `sm: 8`, `md: 16`, `lg: 24`, `xl: 32`, `xxl: 40`, `block: 48`.
   - Добавлен рабочий импортируемый файл `frontend/shared/design-tokens/spacing.ts`.

2. **UI-компоненты**
   - Добавлены:
     - `frontend/components/ui/Section.tsx`
     - `frontend/components/ui/Block.tsx`
     - `frontend/components/ui/Stack.tsx`
   - Экспортированы через `frontend/components/ui/index.ts`.

3. **Header (глобально)**
   - Приведен к правилам ТЗ-33:
     - высота `64px`
     - padding `0 16px`
     - gap между иконками `16px`
   - Файлы:
     - `frontend/styles/layout-header.css`
     - `frontend/components/layout/Header.tsx`

4. **Нижнее меню / перекрытие контента**
   - Главный контент получил `padding-bottom: 100px` на мобильных:
     - `frontend/app/layout.tsx` (`pb-[100px] md:pb-0`)
   - Нижняя панель уже имеет высоту `72px` и safe-area.

5. **Профиль**
   - Приведен к ритму ТЗ-33:
     - между секциями: `32px`
     - между карточками: `16px`
     - «Добавить объявление»: `mt-24px`
   - Файл: `frontend/app/profile/page.tsx`.

6. **Страница объявления (частично)**
   - Уменьшен вертикальный gap основного столбца до `16px`.
   - Исправлена логика модерации по статусу:
     - `pending/on_review/moderation` → «На модерации»
     - `rejected` → «Отклонено»
     - `active/прочее` → обычный режим (owner edit / user booking)
   - Карта переведена в кнопку «Открыть карту» (без встроенного iframe-блока в потоке).
   - Файл: `frontend/domains/listing/ListingPageTZ8.tsx`.

## Осталось по ТЗ-33

1. Довести **единый контейнер 680px** на всех целевых экранах (сейчас добавлен класс `page-container-tz33`, но применение еще не везде завершено).
2. Довести **hero-блок главной** по точным интервалам: 16 / 12 / 20 / 32.
3. Довести **карточки объявлений** по строгой структуре:
   - фото → 12 → заголовок → 8 → мета → 12 → кнопки; padding 16.
4. Пройти **filters bottom-sheet** и выровнять интервалы: 16 / 16 / 24 + apply mt 24.
5. Точечный cleanup: найти и заменить случайные `margin/padding > 40px` в целевых экранах на токены.
