# ТЗ №11 — Поиск и фильтры объявлений

## Цель
Сделать нормальный поиск недвижимости: поиск по району, фильтр по цене и комнатам, mobile-first (одна строка + кнопка «Фильтры»), без засветов, стабильный. Без AI и серверного поиска — клиентская фильтрация.

## Страница
/search (или главная с поиском). Работаем только над поиском, фильтрами и отображением.

---

## Задачи

### 1. Верхний блок поиска
- Верх страницы: [район] [цена] [фильтры]
- Mobile: одна строка поиска + кнопка «Фильтры»

### 2. Поле поиска
- Placeholder: «Район или метро»
- input, state: `query`

### 3. Фильтры (Bottom Sheet)
- По клику «Фильтры» — bottom sheet
- Содержит: цена от/до, комнаты (chips 1, 2, 3, 4+), тип жилья, район

### 4. Цена
- Два number input: от / до

### 5. Комнаты
- Chips: 1, 2, 3, 4+

### 6. Состояние фильтров
```ts
filters: {
  priceFrom: "",
  priceTo: "",
  rooms: null,
  district: ""
}
```

### 7. Кнопка «Применить»
- В bottom sheet, закрывает sheet и обновляет список

### 8. Логика фильтрации
- Клиентская: по priceFrom/priceTo, rooms, району/запросу

### 9. Список объявлений
- Карточка из ТЗ-9 (components/listing/ListingCard)
- Пустое состояние: «Ничего не найдено»

### 10. Сортировка
- Dropdown: сначала дешёвые, сначала новые

### 11–12. Тема и mobile
- Текст/фильтры/карточки через var(--text-primary), var(--text-secondary)
- Bottom sheet: height 90%, drag, кнопка применить sticky

### Компоненты (созданы)
- `components/search/SearchBarTZ11.tsx` — поле «Район или метро», кнопка «Фильтры», бейдж количества
- `components/search/FiltersSheetTZ11.tsx` — bottom sheet 90vh: цена от/до, комнаты (chips), тип жилья, район; кнопки Сбросить / Применить
- `components/search/ListingsGridTZ11.tsx` — сетка карточек (ТЗ-9), скелетон, пустое «Ничего не найдено»
- `app/search/SearchPageTZ11.tsx` — страница: state query + filters, клиентская фильтрация, сортировка (дешёвые / новые), подключена в PageClient

### Критерии готовности
- ✔ поиск по району/метро (query) — клиентская фильтрация по city, district, title
- ✔ фильтры: цена от/до, комнаты (1, 2, 3, 4+), тип жилья, район — в bottom sheet, Применить закрывает
- ✔ mobile: одна строка поиска + кнопка «Фильтры», sheet 90vh, drag закрытие, sticky Применить
- ✔ нет засветов: var(--text-primary), var(--text-secondary), var(--bg-card), var(--border-main), var(--accent)
- ✔ карточки из ТЗ-9 (ListingCard), фильтруются и сортируются (сначала дешёвые / сначала новые)

### Не делать
- Серверный поиск, AI, сложные карты
