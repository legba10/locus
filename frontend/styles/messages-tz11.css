/**
 * ТЗ-11: Сообщения и чат — фиксированная высота, скролл только внутри колонок,
 * тёмная тема для пузырей и фона.
 */

.messages-page-tz11 {
  --header-height: var(--header-height, 56px);
}

/* ТЗ-8: чат — фиксированная высота, скролл только внутри; страница не скроллится */
.messages-chat-tz11 {
  overflow: hidden;
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 0;
}

.messages-chat-tz11 .flex-1.min-h-0 {
  -webkit-overflow-scrolling: touch;
}

[data-theme="dark"] .messages-page-tz11,
.dark .messages-page-tz11 {
  background: var(--card-bg);
}

[data-theme="dark"] .messages-chat-tz11,
.dark .messages-chat-tz11 {
  background: var(--card-bg);
}

.messages-chat-page-tz11 {
  --header-height: var(--header-height, 56px);
}

/* ТЗ-8: поле ввода фикс снизу, не прыгает */
.messages-chat-tz11 footer {
  flex-shrink: 0;
}

/* ТЗ-15: контейнер сообщений — overflow-y auto, height 100%, без overflow hidden */
.chat-list {
  overflow-y: auto;
  height: 100%;
  -webkit-overflow-scrolling: touch;
}

/* ТЗ-7/ТЗ-8: мобилка — 100dvh, чат занимает высоту, input фикс (flex-shrink-0) */
@media (max-width: 767px) {
  .messages-page-tz11 {
    height: calc(100dvh - var(--header-height, 56px));
    min-height: 0;
  }
}

/* TZ-23: поле ввода чата над bottom bar — отступ = высота навбара + safe-area */
@media (max-width: 767px) {
  .chat-column-mobile-pb {
    padding-bottom: max(56px, calc(56px + env(safe-area-inset-bottom, 0px)));
  }
}

/* ТЗ-12: быстрые подсказки — чипы, горизонтальный скролл на мобилке, тёмная тема, анимация */
.chat-suggestions-tz12 {
  animation: chat-suggestions-fade-slide 0.25s ease-out forwards;
}

@keyframes chat-suggestions-fade-slide {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.chat-suggestions-tz12__chip {
  transition: background-color 0.15s ease;
}

[data-theme="dark"] .chat-suggestions-tz12__chip,
.dark .chat-suggestions-tz12__chip {
  background: rgba(255, 255, 255, 0.08);
  border-color: rgba(255, 255, 255, 0.12);
}

[data-theme="dark"] .chat-suggestions-tz12__chip:hover,
.dark .chat-suggestions-tz12__chip:hover {
  background: rgba(255, 255, 255, 0.12);
}
